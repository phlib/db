#!/usr/bin/env php
<?php

// autoload
$autoloadFiles = [__DIR__ . '/../vendor/autoload.php', __DIR__ . '/../../../autoload.php'];
foreach ($autoloadFiles as $autoloadFile) {
    if (file_exists($autoloadFile)) {
        require_once $autoloadFile;
        break;
    }
}

// use
use Symfony\Component\Console\Application;
use Phlib\ConsoleConfiguration\Helper\ConfigurationHelper;
use Phlib\Db\Console\ReplicationStatsCommand;
use Phlib\Db\Console\ReplicationMonitorCommand;

// lets go!
$application = new Application();
$application->add(new ReplicationStatsCommand());
$application->add(new ReplicationMonitorCommand());

ConfigurationHelper::initHelper(
    $application,
    ['host' => '127.0.0.1', 'username' => 'root', 'password' => '', 'dbname' => 'test'],
    ['filename' => 'db-config.php']
);

$application->run();
